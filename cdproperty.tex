\section{Correlation Decay Property}

In the last section we show an algorithm $P(G,e,L)$ for estimating the marginal probability $P(G,e)$,
so here we establish the exponential correlation decay property, in the stronger sense with the $M$-based depth, of the estimation error in $P(G,e,L)$.%, hence $P(G,e,L)$

\begin{Thm}
	Given graph $G$, edge $e$ and depth $L$,
	\[\abs{P(G,e,L) - P(G,e)} \leq (\frac{1}{2})^{L}\]
\end{Thm}

Such phenomenon is usually refered to as exponential correlation decay. Before we prove the main theorem, we will introduce a few useful propositions and lemmas.

\begin{Prop}
	\[P(G, e) \leq \frac{1}{2}\]
\end{Prop}

\begin{proof}
	Although one may examine this case by case algebraically, this propositions can be seen quite obvious combinatorially in that, for any edge cover $X \in EC(G)$ s.t. $e \notin X$, $X+e$ is also an edge cover in $G$, and $\forall X,Y \in EC(G)$ s.t. $X \neq Y, e \notin X, e\notin Y$, we have $X+e \neq Y+e$. So the edge covers with $e$ chosen is at least as many as the edge covers with $e$ not chosen, hence concludes the proposition follows.
\end{proof}

For notational convenience, given a d-dimensional vector $x \in [0, \frac{1}{2}]^d$, we denote
\[ f(x) \triangleq \frac{1- \prod_i x_i}{2 - \prod_i x_i}\]

Given a $d_1$-dimensional vector $x \in [0, \frac{1}{2}]^{d_1}$ and two $d_2$-dimensional vectors $y,z \in [0, \frac{1}{2}]^{d_1}$, let
\[ g(x,y,z) \triangleq  1- \frac{1}{2+\prod_i x_i \cdot \prod_i y_i - \prod_i x_i - \prod_i z_i} \]


	\begin{Lem}
		\begin{align*}
			\abs{\sum_i \cfrac{f(x)}{\partial x_i}} \leq \frac{1}{2}. 
		\end{align*}
	\end{Lem}

	\begin{proof}
		Denote $i^*$ be one of the indices of smallest $x_i$, since $x_i \leq \frac{1}{2}$, we have
	\begin{align*}
		\abs{\sum_i \cfrac{\partial f(x)}{\partial x_i}}  =& \cfrac{\sum_i \prod_{k \neq i} x_k  }{\left( 2 - \prod_i P(G_i, e_i) \right)^2} \\
		\leq & d \prod_{k \neq i^*} P(G_k, e_k) \\
		\leq & d \left( \frac{1}{2} \right)^{d-1}
	\end{align*}

	So for $d \geq 4$ we have $\abs{\sum_i \cfrac{\partial P(G,e)}{\partial P(G_i,e_i)}} \leq \frac{1}{2}$.

	For $d=0, \abs{\sum_i \cfrac{f(x)}{\partial x_i}} = 0$.

	Now consider $d=1$, $\abs{\sum_i \cfrac{\partial P(G,e)}{\partial P(G_i,e_i)}} = \frac{1}{\left( 2 - P(G_1,e_1) \right)^2} \leq \frac{4}{9} $.

	Next consider $d=2$,  $\abs{\sum_i \cfrac{\partial P(G,e)}{\partial P(G_i,e_i)}} = \frac{P(G_1,e_1) + P(G_2,e_2)}{\left( 2 - P(G_1,e_1)P(G_2,e_2) \right)^2} \leq \frac{16}{49} $.

	Finally for $d=3$,  $\abs{\sum_i \cfrac{\partial P(G,e)}{\partial P(G_i,e_i)}} = \frac{P(G_1,e_1) + P(G_2,e_2)}{\left( 2 - P(G_1,e_1)P(G_2,e_2) \right)^2} < \frac{16}{49} $.
	\end{proof}



	\begin{Prop}
		\begin{align*}
			\frac{\partial \mathbb{P}\left( \alpha = 0, \beta = 0 \right) }{ \partial P(G_i^1, e_i) } \leq (\frac{1}{2})^{d_1 + d_2 -1} \\
			\frac{\partial \mathbb{P}\left( \alpha = 0, \beta = 0 \right) }{ \partial P(G_i^2, f_i) } \leq (\frac{1}{2})^{d_1 + d_2 -1} 
		\end{align*}
	\end{Prop}
	\begin{proof}
		\begin{align*}
			\frac{\partial \mathbb{P}\left( \alpha = 0, \beta = 0 \right) }{ \partial P(G_k^1, e_k) } = &\frac{\prod_{i=1}^{d_1} P(G_i^1, e_i) \cdot \prod_{i=1}^{d_2} P(G_i^2, f_i) }{\partial P(G_k^1, e_k)} \\
			=&\prod_{i=1,i\neq k}^{d_1} P(G_i^1, e_i) \cdot \prod_{i=1}^{d_2} P(G_i^2, f_i)\\
			\leq & (\frac{1}{2})^{d_1 + d_2 -1}
		\end{align*}
		Similarly for $\frac{\partial \mathbb{P}\left( \alpha = 0, \beta = 0 \right) }{ \partial P(G_i^2, f_i) }$.
	\end{proof}

	\begin{Cor}
		\[\sum_k \frac{\partial \mathbb{P}\left( \alpha = 0, \beta = 0 \right) }{ \partial P(G_k^1, e_k) } + \sum_k \frac{\partial \mathbb{P}\left( \alpha = 0, \beta = 0 \right) }{ \partial P(G_k^2, f_k) } \leq (d_1 + d_2) (\frac{1}{2})^{d_1+d_2-1} \leq 1\]
	\end{Cor}

	\begin{Prop}
		\begin{align*}
			\frac{\partial \mathbb{P}\left( \alpha = 0 \right) }{ \partial P(G_i^1, e_i) } \leq (\frac{1}{2})^{d_1 -1} \\
			\frac{\partial \mathbb{P}\left( \beta = 0 \right) }{ \partial P(G_i^2, f_i) } \leq (\frac{1}{2})^{d_2 -1} 
		\end{align*}
	\end{Prop}

	\begin{Cor}
		\[ 
			\sum_i \frac{\partial \mathbb{P}\left( \alpha = 0 \right) }{ \partial P(G_i^1, e_i) } +
			\sum_i \frac{\partial \mathbb{P}\left( \beta = 0 \right) }{ \partial P(G_i^2, f_i) } \leq
			d_1 \left( \frac{1}{2} \right)^{d_1-1} +d_2 \left( \frac{1}{2} \right)^{d_2-1} \leq
			2
		\]
	\end{Cor}

	Note that the recursion for general graph is applied only once, so it's sufficient to show that the sum of the partial derivatives is bounded.
